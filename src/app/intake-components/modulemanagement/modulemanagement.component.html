<!--
  /**
* Author - Trinadh
* Version - 1.0
* Create date - 14 september 19
*/
-->

<div class="row d-flex justify-content-end">
  <div class="mr-2 search-bar-custom">
    <input type="text" placeholder="Search" (keyup)="filterItem($event)" />
    <i class="search-icon text-muted i-Magnifi-Glass1"></i>
  </div>
  <button mat-mini-fab color="primary" (click)="addmodule()" [disabled]="!create">
    <mat-icon>add</mat-icon>
  </button>
</div>

<div class="mt-3">
  <ngx-datatable class="material" [rows]="filteredItems" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
    [rowHeight]="40" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="40" rowHeight="auto"
    [messages]="nodata">
    <ngx-datatable-column prop="moduleName">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Name</span>
      </ng-template>
      <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
        <span style="cursor:pointer;" (click)="update ? editmodule(row._id) : ''">{{ row.moduleName }}</span>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column prop="moduleDisplayName">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Display Name</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column prop="redirectUrl">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Redirect Url</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column>
      <ng-template ngx-datatable-header-template>
        Actions
      </ng-template>
      <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
        <mat-slide-toggle checked="true" (click)="toggle(row._id)" *ngIf="row.status === 'active'"></mat-slide-toggle>
        <mat-slide-toggle checked="false" (click)="toggle(row._id)" *ngIf="row.status === 'inactive'">
        </mat-slide-toggle>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>

<!--
  <p
            class="mb-1"
            ngbPopover="{{ projects.description }}"
            triggers="mouseenter:mouseleave"
          >
            {{
              projects.description.length > 20
                ? (projects.description | slice: 0:20) + ".."
                : projects.description
            }}
          </p>
-->