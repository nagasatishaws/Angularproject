<!--
  /**
* Author - Trinadh
* Version - 1.0
* Create date - 19 september 19
*/
-->

<div class="row d-flex justify-content-end">
  <div class="mr-2 search-bar-custom">
    <input type="text" placeholder="Search" (keyup)="filterItem($event)" />
    <i class="search-icon text-muted i-Magnifi-Glass1"></i>
  </div>
  <button mat-mini-fab color="primary" (click)="addclient()" [disabled]="!create">
    <mat-icon>add</mat-icon>
  </button>
</div>

<div class="mt-3">
  <ngx-datatable class="material" [rows]="filteredItems" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
    [rowHeight]="40" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="40" rowHeight="auto"
    (activate)="update ? onRowClick($event) : ''" [messages]="nodata">
    <ngx-datatable-column prop="clientName">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Client Name</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        <span class="c-p">{{ value }}</span>
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column prop="industry">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Industry</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column prop="contactPersonName">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Contact Person Name</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column prop="contactPhoneNumber">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Contact Phone Number</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column prop="emailId">
      <ng-template ngx-datatable-header-template let-sort="sortFn">
        <span class="c-p" (click)="sort()">Email ID</span>
      </ng-template>
      <ng-template let-value="value" ngx-datatable-cell-template>
        {{ value }}
      </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column>
      <ng-template ngx-datatable-header-template>
        Actions
      </ng-template>
      <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
        <mat-slide-toggle checked="true" (click)="toggle(row.clientId)" *ngIf="row.status === 'active'">
        </mat-slide-toggle>
        <mat-slide-toggle checked="false" (click)="toggle(row.clientId)" *ngIf="row.status === 'inactive'">
        </mat-slide-toggle>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>